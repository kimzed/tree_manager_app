{% extends "base.html" %}

{% block title %}Set Up Your Profile - Tree Manager{% endblock %}

{% block content %}
<!-- Hero section matching Direction 1: vertical gradient, light green to white -->
<div class="bg-gradient-to-b from-[#F0F7F4] to-white -mx-4 -mt-8 px-8 py-16 text-center mb-12">
  <!-- Step indicator: thin bars matching mockup -->
  <div class="flex justify-center gap-2 mb-8">
    <div class="h-1 w-16 rounded-full bg-primary"></div>
    <div class="h-1 w-10 rounded-full bg-base-300"></div>
    <div class="h-1 w-10 rounded-full bg-base-300"></div>
  </div>
  <h1 class="text-3xl font-bold mb-3">What are you hoping to grow?</h1>
  <p class="text-lg text-base-content/60 max-w-lg mx-auto">Tell us about your goals and we'll find trees that match your vision perfectly.</p>
</div>

<!-- Profile sections: open flowing layout, no card wrapper -->
<div class="max-w-2xl mx-auto">
  <form method="post">
    {% csrf_token %}

    <h3 class="text-xl font-semibold mb-2">Your Goals</h3>
    <p class="text-sm text-base-content/60 mb-6">Select all that apply â€” we'll tailor your recommendations.</p>
    <div class="grid grid-cols-3 gap-3 mb-10">
      {% for value, label, emoji, description in enriched_goals %}
      <label class="py-5 px-4 border-2 border-base-300 rounded-xl text-center cursor-pointer hover:border-primary hover:bg-[#F0F7F4] has-[:checked]:border-primary has-[:checked]:bg-[#F0F7F4] transition-all">
        <input type="checkbox" name="goals" value="{{ value }}" class="hidden"
               {% if value in form.goals.value %}checked{% endif %}>
        <div class="text-3xl mb-2">{{ emoji }}</div>
        <div class="text-sm font-semibold">{{ label }}</div>
        <div class="text-xs text-base-content/60 mt-1">{{ description }}</div>
      </label>
      {% endfor %}
    </div>

    <h3 class="text-xl font-semibold mb-2">Maintenance Level</h3>
    <p class="text-sm text-base-content/60 mb-6">How much time do you want to spend caring for your trees?</p>
    <div class="grid grid-cols-3 gap-3 mb-10">
      {% for value, label in form.maintenance_level.field.choices %}
      <label class="py-5 px-4 border-2 border-base-300 rounded-xl text-center cursor-pointer hover:border-primary hover:bg-[#F0F7F4] has-[:checked]:border-primary has-[:checked]:bg-[#F0F7F4] transition-all">
        <input type="radio" name="maintenance_level" value="{{ value }}" class="hidden"
               {% if value == form.maintenance_level.value %}checked{% endif %}>
        <div class="text-3xl mb-2">{% if value == "low" %}ğŸ˜Œ{% elif value == "medium" %}ğŸ™‚{% else %}ğŸ§‘â€ğŸŒ¾{% endif %}</div>
        <div class="text-sm font-semibold">{% if value == "low" %}Low Effort{% elif value == "medium" %}Some Care{% else %}Hands On{% endif %}</div>
        <div class="text-xs text-base-content/60 mt-1">{% if value == "low" %}Plant and forget{% elif value == "medium" %}Occasional pruning{% else %}I enjoy the work{% endif %}</div>
      </label>
      {% endfor %}
    </div>

    <h3 class="text-xl font-semibold mb-2">Experience Level</h3>
    <p class="text-sm text-base-content/60 mb-6">How experienced are you with trees?</p>
    <div class="grid grid-cols-3 gap-3 mb-10">
      {% for value, label in form.experience_level.field.choices %}
      <label class="py-5 px-4 border-2 border-base-300 rounded-xl text-center cursor-pointer hover:border-primary hover:bg-[#F0F7F4] has-[:checked]:border-primary has-[:checked]:bg-[#F0F7F4] transition-all">
        <input type="radio" name="experience_level" value="{{ value }}" class="hidden"
               {% if value == form.experience_level.value %}checked{% endif %}>
        <div class="text-3xl mb-2">{% if value == "beginner" %}ğŸŒ±{% elif value == "intermediate" %}ğŸŒ¿{% else %}ğŸŒ³{% endif %}</div>
        <div class="text-sm font-semibold">{{ label }}</div>
        <div class="text-xs text-base-content/60 mt-1">{% if value == "beginner" %}Just getting started{% elif value == "intermediate" %}Some growing experience{% else %}Seasoned green thumb{% endif %}</div>
      </label>
      {% endfor %}
    </div>

    {% if form.errors %}
    <div class="alert alert-error mb-4">
      {% for field, errors in form.errors.items %}
        {% for error in errors %}
        <span>{{ error }}</span>
        {% endfor %}
      {% endfor %}
    </div>
    {% endif %}

    <div class="text-center mt-8 mb-12">
      <button type="submit" class="btn btn-primary px-8">Continue</button>
    </div>
  </form>
</div>
{% endblock %}
